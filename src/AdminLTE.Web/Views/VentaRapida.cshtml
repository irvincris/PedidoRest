
@{
    ViewBag.Title = "VentaRapida";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@section Styles{
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
}


<div class="categoria-lista">
    @foreach (var item in ViewBag.ListaClasificacion)
    {
        <button onclick="ObtenerProducto(@item.Cod_Clas)" style="font-size: 12px; background: #8e1919; color:white" class="categoria-item">@item.Clasificacion</button>
        @*<button onclick="scrollACategoria(@item.Cod_Clas)" style="font-size: 12px; background: #8e1919; color:white" class="categoria-item">@item.Clasificacion</button>*@
    }
</div>

<div class="content-header">

    <div class="panel-body" style="width:100%">
        <div style="height: 50px;"></div>

        <div class="row">
            <div class="form-group col-md-4 col-lg-6" hidden>
                <input type="text" class="form-control" id="idalmacen" value="@Session["idalmacen"]">
                <input type="text" class="form-control" id="usuario" value="@Session["usuario"]">
                <input type="text" class="form-control" id="Codusuario" value="@Session["CodUsuario"]">

                <input type="text" class="form-control" id="estadoFact" value="@ViewBag.EstadoFact">
                <input type="text" class="form-control" id="codVenta" value="@ViewBag.CodVenta">
                <input type="text" class="form-control" id="CodMesa" value="@ViewBag.CodMesa">
                <input type="text" class="form-control" id="DescripcionMesa" value="@ViewBag.DescripcionMesa">
                <input type="text" class="form-control" id="DescripcionCuenta" value="@ViewBag.DescripcionCuenta">
                <input type="text" class="form-control" id="codCuenta" value="@ViewBag.codCuenta">
                <input type="text" class="form-control" id="UsoCodigoUsuario" value="@ViewBag.UsoCodigoUsuario">

                <input type="text" class="form-control" id="PinUsuario" value="@Session["PinUsuario"]">
            </div>
        </div>



        <div id="OpcionProducto">

        </div>


        <div class="container-fluid">

            <div class="row">

                <div class="col-md-5" hidden>

                    <div class="input-group input-group-sm mb-3">
                        <div class="input-group-append">
                            <span class="input-group-text" style="font-weight:bold">CLIENTE:</span>
                        </div>
                        <select class="selectpicker form-control form-control-sm" data-style="btn-black" id="idcliente" data-live-search="true">
                            <option value="0">SELECCIONE CLIENTE</option>
                        </select>

                    </div>


                    <div class="form-check-inline mb-3">
                        <label class="form-check-label" style="font-weight:bold">
                            <input type="radio" class="form-check-input" checked="checked" name="optradio" id="chkMesa" onclick="OpcionCheck()">Para mesa
                        </label>
                    </div>
                    <div class="form-check-inline">
                        <label class="form-check-label" style="font-weight:bold">
                            <input type="radio" class="form-check-input" name="optradio" id="chkLlevar" onclick="OpcionCheck()">Para llevar
                        </label>
                    </div>
                    <div class="form-check-inline">
                        <label class="form-check-label" style="font-weight:bold">
                            <input type="radio" class="form-check-input" name="optradio" id="chkDelivery" onclick="OpcionCheck()">Delivery
                        </label>
                    </div>


                    <div class="row" id="OpcionDelivery">

                        <div class="form-group row-cols-md-2 col-lg-4">
                            <select class="form-control form-control-sm" id="idDelivery">
                                <option value="0">SELECCIONAR</option>
                            </select>

                        </div>

                        <div class="form-group row-cols-md-2 col-lg-4">
                            <input type="text" class="form-control form-control-sm" id="nropedido" placeholder="NroPedido" autocomplete="off">
                        </div>

                    </div>


                    <div id="global" style="width:100%">

                        <div id="mensajes">
                            <div class="form-group">
                                <table id="tbproducto2" class="table table-bordered table-condensed table-hover table-striped table-sm" style="width:100%">
                                    <colgroup>
                                        <col style="width: 25%" />
                                        <col style="width: 50%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                    </colgroup>
                                    <thead style="background:#363949;color:white">
                                        <tr>
                                            <td>N°</td>
                                            <td>Producto</td>
                                            <td>Cantidad</td>
                                            <td>Precio</td>
                                            <td>Importe</td>
                                            <td>codprod</td>
                                            <td></td>
                                            <td></td>
                                            <td>TipClas</td>
                                            <td>TipUnid</td>

                                        </tr>
                                    </thead>
                                    <tbody style="font-size: 13px">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                    <div id="global" style="width:100%">

                        <div id="mensajes">
                            <div class="form-group">
                                <table id="tbcomposicion2" class="table table-bordered table-condensed table-hover table-striped table-sm" style="width:100%">
                                    <colgroup>
                                        <col style="width: 25%" />
                                        <col style="width: 50%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                        <col style="width: 20%" />
                                    </colgroup>
                                    <thead style="background:#363949;color:white">
                                        <tr>
                                            <td>N°</td>
                                            <td>Producto</td>
                                            <td>Tipo</td>
                                            <td>Detalle</td>
                                            <td>Cant</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>pLlevar</td>
                                            <td>porc</td>
                                            <td>precio</td>
                                            <td>CantProdPrinc</td>
                                            <td>PrecGeneral</td>
                                            <td>tipClas</td>
                                        </tr>
                                    </thead>
                                    <tbody style="font-size: 13px">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                    <br />

                    <div class="form-group row-cols-md-6 col-lg-8">
                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">IMPORTE (Bs):</span>
                            </div>
                            <input type="text" class="form-control" style="text-align:right" id="total" value="0.00" disabled>
                        </div>

                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">DESCUENTO (Bs):</span>
                            </div>
                            <input type="text" class="form-control" style="text-align:right" id="descuento" value="0.00" onkeypress="return isNumberKey(event)" disabled>

                            <div class="input-group-append">
                                <button type="button" class="btn btn-outline-primary" onclick="ActivarDesc()"> Activar desc </button>
                            </div>

                        </div>

                        <div class="input-group input-group-sm mb-1">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">TOTAL (Bs):</span>
                            </div>
                            <input type="text" class="form-control" id="totalGeneral" style="text-align:right" value="0.00" disabled>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-6 col-lg-12" style="text-align:right">
                        <button type="button" class="btn btn-success" style="border-color:black" data-dismiss="modal" id="AceptarVenta" onclick="GuardarVenta()"><span class="far fa-save"></span>  _GUARDAR </button>
                        <button type="button" class="btn btn-primary" style="border-color:black" onclick="Cancelar()"><span class="fa fa-times"></span>  CANCELAR </button>
                    </div>

                </div>

                <div class="col" hidden>

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <div id="OpcionClasificacion">

                        </div>
                    </div>

                </div>


                @*<div class="col">*@



                <div class="form-group row-cols-md-6 col-lg-10" hidden>
                    <div class="input-group input-group-sm ">

                        <input type="text" class="form-control form-control-sm" id="txtBuscarProducto" onkeydown="" autocomplete="off" placeholder="Buscar productos...">

                    </div>
                </div>

                @*<div class="form-group row-cols-md-2 col-lg-12">
                        <div id="OpcionProducto">

                        </div>
                    </div>*@

                @*</div>*@

            </div>

        </div>


    </div>

</div>



<div class="modal fade" id="ModalDatosCantidad" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <input type="text" class="form-control" style="font-size: 28px; text-align: right" id="cantidad" value="0" disabled>
                    </div>
                    <div class="alinear">
                        <div class="form-group row-cols-md-4 col-lg-12 margenCant">
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(1)">1</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(2)">2</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(3)">3</button>
                        </div>
                        <div class="form-group row-cols-md-2 col-lg-12 margenCant">
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(4)">4</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(5)">5</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(6)">6</button>
                        </div>
                        <div class="form-group row-cols-md-2 col-lg-12 margenCant">
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(7)">7</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(8)">8</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(9)">9</button>
                        </div>
                        <div class="form-group row-cols-md-2 col-lg-12 margenCant">
                            <button type="button" class="btn btn-default formatoBoton" onclick="DatoNumero(0)">0</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="opcionDatoNro(10)">+10</button>
                            <button type="button" class="btn btn-default formatoBoton" onclick="opcionDatoNro(100)">+100</button>

                            @*<button type="button" class="btn btn-success formatoBoton" style="border-color:black" onclick="Aceptar()">OK</button>*@
                        </div>
                        <div class="form-group row-cols-md-2 col-lg-12 margenCant">
                            <button type="button" class="btn btn-default formatoBoton" onclick="LimpiarDato()">C</button>
                            <button type="button" class="btn btn-default" style="width: 85px; height: 70px; font-weight: bold; font-size: 20px" id="btnLlevar" onclick="Opcionllevar()">Para llevar</button>
                            <button type="button" class="btn btn-default" style="width: 85px; height: 70px; font-weight: bold; font-size: 20px" id="btnObs" onclick="opcionObservacion()"><i class="fa fa-edit"></i>Obs.</button>
                        </div>
                        @*<div class="form-group row-cols-md-2 col-lg-12 margenCant">
                                <button type="button" class="btn btn-default" style="width: 85px; height: 70px; font-weight: bold; font-size: 20px" id="btnListaObs" onclick="opcionListaObservacion()"><i class="fa fa-plus"></i>Obs.</button>
                            </div>*@

                    </div>

                    <div class="form-group row-cols-md-2 col-lg-12">
                        <input type="text" class="form-control form-control-sm" id="txtObservacion" autocomplete="off" oninput="convertToUpper(this)">
                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="LimpiarDato()"> Cancelar </button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="ModalSubcomposicion" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <div id="OpcionSubComposicion">

                        </div>
                    </div>

                </div>

            </div>

            @*<div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="LimpiarDato()"> Cancelar </button>
                </div>*@
        </div>
    </div>
</div>

<div class="modal fade" id="ModalObservacion" data-backdrop="static">
    <div class="modal-dialog modal-lg AlinearModal" style="margin:auto">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">

            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <input type="text" style="font-size:14px" class="form-control" id="MotivoObservacion" placeholder="Introducir motivo de eliminación" autocomplete="off" oninput="convertToUpper(this)">
                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-success btn-sm" onclick="MotivoObservacion()"> Aceptar </button>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal" onclick="CancelarDesc()"> Cancelar </button>
            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="ModalDatosVenta" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-lg" style="max-width:70%">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
                <h5 class="modal-title" style="background: #28405e; color: white">DATOS VENTA </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:red"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">MONTO TOTAL (Bs):</span>
                            </div>
                            <input type="text" class="form-control form-control-sm alinearRight" id="montoTotal" disabled>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">T.C. </span>
                            </div>
                            <input type="text" class="form-control form-control-sm alinearRight" id="tc" value="@ViewBag.tc" disabled>
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">

                        <div class="form-check-inline mb-3">
                            <label class="form-check-label" style="font-weight:bold">
                                <input type="checkbox" class="form-check-input" checked="checked" name="checkEfectivo" id="checkBs" onclick="OpcionCheckDatosVenta()"> BOLIVIANO
                            </label>
                        </div>

                    </div>
                    <div class="form-group row-cols-md-2 col-lg-3" id="op1">
                        <input type="text" class="form-control form-control-sm alinearRight" id="montoBoliviano" value="0.00" onkeypress="return isNumberKey(event)" autocomplete="off">
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">

                        <div class="form-check-inline mb-3">
                            <label class="form-check-label" style="font-weight:bold">
                                <input type="checkbox" class="form-check-input" name="optradio" id="checkDolar" onclick="OpcionCheckDatosVenta()"> DOLARES
                            </label>
                        </div>

                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <input type="text" class="form-control form-control-sm alinearRight" id="montodolar" onkeypress="return isNumberKey(event)">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <input type="text" class="form-control form-control-sm alinearRight" id="montoDolarBs" onkeypress="return isNumberKey(event)">
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="form-check-inline">
                            <label class="form-check-label" style="font-weight:bold">
                                <input type="checkbox" class="form-check-input" name="optradio" id="checkTransf" onclick="OpcionCheckDatosVenta()"> TRANSFERENCIA
                            </label>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">Monto</label>  <input type="text" class="form-control form-control-sm alinearRight" id="montoTransferencia" onkeypress="return isNumberKey(event)" autocomplete="off">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">N° transferencia</label><input type="text" class="form-control form-control-sm alinearRight" id="nroTransferencia" onkeypress="return ValidarKey(event)" autocomplete="off">
                    </div>
                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">Banco</label> <select class="form-control form-control-sm" id="idbancoTransf">
                            <option value="0">SELECCIONE BANCO</option>
                            @*@foreach (var item in ViewBag.ListaBanco)
                                {
                                    <option id="select" value="@item.Id">@item.Nombre</option>
                                }*@

                        </select>
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="form-check-inline">
                            <label class="form-check-label" style="font-weight:bold">
                                <input type="checkbox" class="form-check-input" name="optradio" id="checkQr" onclick="OpcionCheckDatosVenta()"> PAGO QR
                            </label>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">Monto</label>  <input type="text" class="form-control form-control-sm alinearRight" id="montoQr" onkeypress="return isNumberKey(event)" autocomplete="off">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1"> N° QR</label> <input type="text" class="form-control form-control-sm alinearRight" id="nroqr" onkeypress="return ValidarKey(event)" autocomplete="off">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">Banco</label> <select class="form-control form-control-sm" id="idbancoqr">
                            <option value="0">SELECCIONE BANCO</option>
                            @*@foreach (var item in ViewBag.ListaBanco)
                                {
                                    <option id="select" value="@item.Id">@item.Nombre</option>
                                }*@
                        </select>
                    </div>

                </div>


                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-2">
                        <div class="form-check-inline">
                            <label class="form-check-label" style="font-weight:bold">
                                <input type="checkbox" class="form-check-input" name="optradio" id="checkTarjeta" onclick="OpcionCheckDatosVenta()"> TARJETA
                            </label>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-2">
                        <label class="mb-1">Monto</label> <input type="text" class="form-control form-control-sm alinearRight" id="montoTarjeta" autocomplete="off">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-2">
                        <label class="mb-1">TipoTarjeta</label> <select class="form-control form-control-sm" id="idtipotarjeta">
                            @*@foreach (var item in ViewBag.ListaTipoTarjeta)
                                {
                                    <option id="select" value="@item.Id">@item.Nombre</option>
                                }*@
                        </select>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1">Banco</label> <select class="form-control form-control-sm" id="idbancoTarjeta">
                            <option value="0">SELECCIONE BANCO</option>
                            @*@foreach (var item in ViewBag.ListaBanco)
                                {
                                    <option id="select" value="@item.Id">@item.Nombre</option>
                                }*@
                        </select>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <label class="mb-1"> N° Referencia</label> <input type="text" class="form-control form-control-sm alinearRight" id="referenciaTarjeta" onkeypress="return ValidarKey(event)" autocomplete="off">
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">CAMBIO(Bs): </span>
                            </div>
                            <input type="text" class="form-control form-control-sm alinearRight" id="cambio" value="0" disabled>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-12">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">OBSERVACION:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="observacion" autocomplete="off">
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3" hidden>

                        @*<form action="@Url.Action("Qr1", "Venta")" method="post">
                                <button>Generar qr</button>
                            </form>
                            <img src="@ViewBag.Url">
                            @if (Model != null)
                            {
                                <img src="@String.Format("data:image/png;base64,{0}", Convert.ToBase64String(Model))">
                            }*@
                        <button type="button" class="btn btn-dark mb-3" onclick="GenerarQr()"><span class="fa fa-qrcode"> </span>  QR </button>
                        <div id="codigo-qr"></div>

                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-success" onclick="EjecucionVenta()"><span class="fa fa-check"> </span>  Vender </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-times"></span> Cancelar </button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="ModalFacturacion" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-lg" style="max-width:60%">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
                <h5 class="modal-title" style="background: #28405e; color: white">DATOS FACTURACION </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:red"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">

                @*<div id="loading-overlay">
                        <div class="loading-spinner"></div>
                    </div>*@

                <div id="loading" style="display: none;">
                    <img src="~/Content/Images/cargando.gif" alt="Cargando...">
                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">MONTO (Bs):</span>
                            </div>
                            <input type="text" class="form-control form-control-sm alinearRight" id="montoFactura" disabled>
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-4">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">NRO DOCUMENTO:</span>
                            </div>
                            @*<input type="text" class="form-control form-control-sm" id="nroDocu" onkeydown="ObtenerDatoDocu(event)" >*@
                            <input type="text" class="form-control form-control-sm" id="nroDocu" autocomplete="off">
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-3">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">COMPLEMENTO:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="complemento">
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-5">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">TIPO DOCUMENTO:</span>
                            </div>
                            <select class="form-control" id="tipoDoc">
                                @*@foreach (var item in ViewBag.TipoDocumentoFact)
                                    {
                                        <option id="select" value="@item.Id">@item.Nombre</option>
                                    }*@
                            </select>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-12">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">RAZON SOCIAL:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="razonSocial" autocomplete="off">
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-6">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">E-MAIL:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="email" autocomplete="off">
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-12">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">METODO PAGO:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="metodopago" disabled>
                        </div>
                    </div>

                    <div class="form-group row-cols-md-2 col-lg-6">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-weight:bold">N° TARJETA:</span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="nroTarjeta" onkeypress="return isNumberKey(event)" disabled>
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-4">

                        <div class="checkbox categorychecklist" id="check">
                            <label>
                                <input type="checkbox" class="checkbox" id="EnvioFacturachk" name="Selected" /> Enviar factura por correo
                            </label>
                        </div>

                    </div>

                    <div class="form-group row-cols-md-6 col-lg-4">

                        <div class="checkbox categorychecklist" id="check">
                            <label>
                                <input type="checkbox" class="checkbox" id="ImprimiFacturachk" name="SelectedImprimirFact" /> Imprimir Factura
                            </label>
                        </div>

                    </div>

                    <div class="form-group row-cols-md-6 col-lg-12" id="alerta" hidden>

                        <div class="alert alert-secondary">
                            ESPERE UN MOMENTO POR FAVOR.
                        </div>

                    </div>



                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnFact" onclick="Factura()"><span class="fa fa-check"> </span>  Facturar </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-times"></span> Salir </button>
            </div>

        </div>
    </div>
</div>



<div class="modal fade" id="ModalListaObservacion" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width:90%; margin:auto">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
                <h5 class="modal-title" style="background: #28405e; color: white">Observación predeterminada </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color:red"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-2 col-lg-12 ">
                        <div class="input-group input-group-sm ">
                            <div class="input-group-append ">
                                <span class="input-group-text" style="font-weight:bold">Producto:  </span>
                            </div>
                            <input type="text" class="form-control form-control-sm" id="NombProducto" disabled>
                        </div>
                    </div>

                    <div id="global" class="mb-3" style="width:100%">

                        <div class="form-group row-cols-md-6 col-lg-12">
                            <div id="OpObservacion">

                            </div>
                        </div>

                    </div>


                    <div class="form-group row-cols-md-6 col-lg-12">
                        <input type="text" class="form-control form-control-sm" id="txtConcatenarObser" autocomplete="off" onkeyup="mayus(this)">
                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="LimpiarObservacion()"><span class="fa fa-broom"> </span>  Limpiar </button>
                <button type="button" class="btn btn-danger" onclick="AceptarObservacion()"><span class="fa fa-check"> </span>  Aceptar </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-times"></span> Cancelar </button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="ModalListaComposicion" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" style="max-width:95%; margin:auto">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">
                <h5 class="modal-title" style="background: #28405e; color: white">Composiciones </h5>
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <div id="OpcionComposicion">

                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="ModalUserCodigo" data-backdrop="static">
    <div class="modal-dialog modal-lg AlinearModal" style="margin:auto">
        <div class="modal-content">
            <div class="modal-header" style="background:#28405e">

            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="form-group row-cols-md-6 col-lg-12">
                        <input type="password" class="form-control" id="PinUsuarioEliminar" placeholder="Introducir pin usuario" autocomplete="off" onkeypress="return isNumberKey(event)">
                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-success" onclick="AceptarCodigoUser()"> Aceptar </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal"> Cancelar </button>
            </div>

        </div>
    </div>
</div>


<style type="text/css">
    body {
        margin: 0;
    }

    .margen {
        margin: 1px;
    }

    .margenCant {
        margin: 3px;
    }

    .formatoBoton {
        width: 85px;
        height: 70px;
        font-weight: bold;
        font-size: 30px;
    }

    .alinear {
        margin: 0 auto;
    }


    #global {
        height: 400px;
        width: 400px;
        border: 1px solid #ddd;
        background: #f1f1f1;
        overflow-y: scroll;
    }

    #mensajes {
        height: auto;
    }

    .texto {
        padding: 4px;
        background: #fff;
    }

    .bootstrap-select .btn {
        background-color: #6b85a7;
        color: white;
    }

    .alinearRight {
        text-align: right;
    }

    #loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
        display: none; /* Inicialmente oculto */
        justify-content: center;
        align-items: center;
    }

    .loading-spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }



    #loading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
        display: flex;
        justify-content: center;
        align-items: center;
    }

        #loading img {
            width: 50px;
            height: 50px;
        }



    .input-wrapper {
        position: relative;
        width: 271px;
    }

    .input-icon {
        color: #191919;
        position: absolute;
        width: 20px;
        height: 20px;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
    }


    @@media (max-width:850px) {
        .AlinearModal {
            max-width: 90%;
        }
    }

    @@media (min-width:850px) {
        .AlinearModal {
            max-width: 40%;
        }
    }

    button:hover {
        background-color: #2980b9;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        transform: scale(1.01);
    }
</style>

@section scripts
{

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap4.min.js"></script>

    <script src="~/Plugins/jquery/jquery.blockUI.js"></script>

}

@Html.Partial("~/Views/ScriptVentaRapida.cshtml")
@Html.Partial("~/Views/ScriptFunciones.cshtml")